syntax = "proto3";

package depscan;

service DepScan {
    rpc Index(Empty) returns (IndexResponse);
    rpc GetDependencies(Empty) returns (Dependencies);
    rpc PostVersions(DependencyVersions) returns (Empty);
}

message Empty {}

message IndexResponse {
    string message = 1;
}

message Dependency {
    string name = 1;
    string repository = 2;
}

message Dependencies {
    repeated Dependency dependencies = 1;
}

message DependencyVersion {
    string package = 1;
    string version = 2;
}

message DependencyVersions {
    repeated DependencyVersion dependencies = 1;
}
